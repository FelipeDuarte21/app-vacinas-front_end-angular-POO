(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"627c":function(o,i,t){"use strict";t.r(i),t.d(i,"UsuarioModule",function(){return H});var a=t("SVse"),r=t("s7LF"),e=t("wVp2"),n=t("h2gj"),s=t("falk"),c=t("8Y7J"),l=t("JwSV"),u=t("iInd");let b=(()=>{class o{constructor(o,i){this.usuarioLogadoService=o,this.router=i}canActivate(o,i){return!!this.usuarioLogadoService.isUsuarioLogado()||(this.router.navigate(["/"]),!1)}}return o.\u0275fac=function(i){return new(i||o)(c.Sb(l.a),c.Sb(u.b))},o.\u0275prov=c.Fb({token:o,factory:o.\u0275fac}),o})();var d=t("RMEu"),m=t("15XU"),f=t("PA4O"),h=t("z+8U"),p=t("15Rq");let v=(()=>{class o{constructor(o,i){this.historicoVacinaService=o,this.formataDataHora=i,this.icone="fa-list-alt",this.titulo="Hist\xf3rico de Vacina\xe7\xe3o",this.linkRetorno="/usuario",this.cards=[],this.totalPagina=0,this.paginaAtual=0,this.opcoesQtdPorPagina=[4,8,12,16,20],this.quantidadeEscolhida=4}ngOnInit(){this.buscarTodos(this.paginaAtual,this.quantidadeEscolhida)}buscarTodos(o,i){this.historicoVacinaService.buscarHistorico(o,i).subscribe(o=>{this.totalPagina=o.totalPages,this.converteHistoricoPraCard(o.content)})}converteHistoricoPraCard(o){let i=[];o.forEach(o=>{let t={id:o.idHistoricoVacina,campos:[{icone:"fa-syringe",titulo:"Vacina",valor:o.vacina.nome},{icone:"fa-hospital",titulo:"Posto",valor:o.posto.nome},{icone:"fa-calendar-alt",titulo:"Data/Hora",valor:this.formataDataHora.transform(o.dataHora)},{icone:"fa-comment",titulo:"Coment\xe1rio",valor:o.comentario}],botoes:[]};i.push(t)}),this.cards=i}onTrocarPagina(o){this.paginaAtual=o,this.buscarTodos(o,this.quantidadeEscolhida)}onTrocarQuantidade(o){this.quantidadeEscolhida=o,this.paginaAtual=0,this.buscarTodos(this.paginaAtual,this.quantidadeEscolhida)}}return o.\u0275fac=function(i){return new(i||o)(c.Jb(m.a),c.Jb(d.a))},o.\u0275cmp=c.Db({type:o,selectors:[["historico-vacina"]],features:[c.xb([d.a])],decls:3,vars:8,consts:[[3,"icone","titulo"],[3,"link"],[3,"cards","totalPagina","paginaAtual","opcoesQtdPorPagina","opcaoInicialEscolhida","trocarPagina","trocarQuantidade"]],template:function(o,i){1&o&&(c.Kb(0,"titulo",0),c.Kb(1,"btn-voltar",1),c.Ob(2,"painel-dados",2),c.Vb("trocarPagina",function(o){return i.onTrocarPagina(o)})("trocarQuantidade",function(o){return i.onTrocarQuantidade(o)}),c.Nb()),2&o&&(c.ac("icone",i.icone)("titulo",i.titulo),c.yb(1),c.ac("link",i.linkRetorno),c.yb(1),c.ac("cards",i.cards)("totalPagina",i.totalPagina)("paginaAtual",i.paginaAtual)("opcoesQtdPorPagina",i.opcoesQtdPorPagina)("opcaoInicialEscolhida",i.quantidadeEscolhida))},directives:[f.a,h.a,p.a],styles:[""]}),o})();var g=t("b4M7"),N=t("rurg");function O(o,i){if(1&o&&(c.Mb(0),c.Ob(1,"option",20),c.ic(2),c.Nb(),c.Lb()),2&o){const o=i.$implicit;c.yb(1),c.ac("value",o.vacina.idVacina),c.yb(1),c.jc(o.titulo)}}function y(o,i){if(1&o&&(c.Mb(0),c.Ob(1,"option",20),c.ic(2),c.Nb(),c.Lb()),2&o){const o=i.$implicit;c.yb(1),c.ac("value",o.idPosto),c.yb(1),c.jc(o.nome)}}let U=(()=>{class o{constructor(o,i,t,a,r){this.campanhaService=o,this.postoService=i,this.historicoVacinaService=t,this.formBuilder=a,this.router=r,this.icone="fa-pencil-alt",this.titulo="Registrar Vacina\xe7\xe3o",this.linkRetorno="/usuario",this.campanhas=[],this.vacinas=[],this.postos=[]}ngOnInit(){this.formRegistroHistorico=this.formBuilder.group({campanha:["",[r.m.required]],posto:["",[r.m.required]],data:["",[r.m.required]],hora:["",[r.m.required]],comentario:[""]}),this.campanhaService.campanhasDisponiveis(0,1).subscribe(o=>{this.campanhaService.campanhasDisponiveis(0,o.totalElements).subscribe(o=>{this.campanhas=o.content})}),this.postoService.buscarTodos(0,1).subscribe(o=>{this.postoService.buscarTodos(0,o.totalElements).subscribe(o=>{this.postos=o.content})})}registrar(){var o,i,t,a,r;let e={id:0,idVacina:null===(o=this.formRegistroHistorico.get("campanha"))||void 0===o?void 0:o.value,idPosto:null===(i=this.formRegistroHistorico.get("posto"))||void 0===i?void 0:i.value,dataHora:`${null===(t=this.formRegistroHistorico.get("data"))||void 0===t?void 0:t.value}T${null===(a=this.formRegistroHistorico.get("hora"))||void 0===a?void 0:a.value}`,comentario:null===(r=this.formRegistroHistorico.get("comentario"))||void 0===r?void 0:r.value};this.historicoVacinaService.registrar(e).subscribe(o=>{alert("Hist\xf3rico Registrado Com Sucesso!"),this.formRegistroHistorico.reset(),this.router.navigate(["usuario"])},o=>{console.log(o),alert("Erro ao registrar Hist\xf3rico!")})}}return o.\u0275fac=function(i){return new(i||o)(c.Jb(g.a),c.Jb(N.a),c.Jb(m.a),c.Jb(r.b),c.Jb(u.b))},o.\u0275cmp=c.Db({type:o,selectors:[["registro-historico-vacina"]],decls:28,vars:7,consts:[[3,"icone","titulo"],[3,"link"],[1,"row","justify-content-center"],[1,"col-12","col-sm-7","col-md-5","col-lg-4","col-xl-3","mt-4"],[3,"formGroup","ngSubmit"],["for","campanha"],["name","campanha","id","campanha","formControlName","campanha",1,"form-control"],[4,"ngFor","ngForOf"],["for","posto",1,"mt-2"],["name","posto","id","posto","formControlName","posto",1,"form-control"],[1,"row","mt-2"],[1,"col-6"],["for","data"],["type","date","formControlName","data",1,"form-control"],["for","hora"],["type","time","formControlName","hora",1,"form-control"],["for","comentario",1,"mt-2"],["cols","6","rows","8","formControlName","comentario",1,"form-control"],["type","submit",1,"btn","btn-primary","mt-3",3,"disabled"],[1,"fas","fa-check","me-1"],[3,"value"]],template:function(o,i){1&o&&(c.Kb(0,"titulo",0),c.Kb(1,"btn-voltar",1),c.Ob(2,"div",2),c.Ob(3,"div",3),c.Ob(4,"form",4),c.Vb("ngSubmit",function(){return i.registrar()}),c.Ob(5,"label",5),c.ic(6,"Campanha:"),c.Nb(),c.Ob(7,"select",6),c.hc(8,O,3,2,"ng-container",7),c.Nb(),c.Ob(9,"label",8),c.ic(10,"Posto:"),c.Nb(),c.Ob(11,"select",9),c.hc(12,y,3,2,"ng-container",7),c.Nb(),c.Ob(13,"div",10),c.Ob(14,"div",11),c.Ob(15,"label",12),c.ic(16,"Data:"),c.Nb(),c.Kb(17,"input",13),c.Nb(),c.Ob(18,"div",11),c.Ob(19,"label",14),c.ic(20,"Hora:"),c.Nb(),c.Kb(21,"input",15),c.Nb(),c.Nb(),c.Ob(22,"label",16),c.ic(23,"Coment\xe1rio:"),c.Nb(),c.Kb(24,"textarea",17),c.Ob(25,"button",18),c.Kb(26,"i",19),c.ic(27,"Registrar"),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&o&&(c.ac("icone",i.icone)("titulo",i.titulo),c.yb(1),c.ac("link",i.linkRetorno),c.yb(3),c.ac("formGroup",i.formRegistroHistorico),c.yb(4),c.ac("ngForOf",i.campanhas),c.yb(4),c.ac("ngForOf",i.postos),c.yb(13),c.ac("disabled",i.formRegistroHistorico.invalid))},directives:[f.a,h.a,r.o,r.h,r.d,r.l,r.g,r.c,a.i,r.a,r.j,r.n],styles:[""]}),o})();var C=t("AxdJ");function V(o,i){1&o&&(c.Mb(0),c.Ob(1,"label",42),c.ic(2,"Senha:"),c.Nb(),c.Kb(3,"input",43),c.Lb())}function x(o,i){if(1&o){const o=c.Pb();c.Ob(0,"button",44),c.Vb("click",function(){return c.ec(o),c.Xb().cadastrar()}),c.Kb(1,"i",45),c.ic(2,"Cadastrar"),c.Nb()}if(2&o){const o=c.Xb();c.ac("disabled",o.formUsuario.invalid)}}function S(o,i){if(1&o){const o=c.Pb();c.Ob(0,"button",44),c.Vb("click",function(){return c.ec(o),c.Xb().atualizar()}),c.Kb(1,"i",46),c.ic(2,"Atualizar"),c.Nb()}if(2&o){const o=c.Xb();c.ac("disabled",o.formUsuario.invalid)}}function k(o,i){if(1&o){const o=c.Pb();c.Ob(0,"button",47),c.Vb("click",function(){return c.ec(o),c.Xb().excluir()}),c.Kb(1,"i",48),c.ic(2,"Excluir"),c.Nb()}if(2&o){const o=c.Xb();c.ac("disabled",o.formUsuario.invalid)}}let K=(()=>{class o{constructor(o,i,t,a,r){this.usuarioService=o,this.formBuilder=i,this.route=t,this.router=a,this.usuarioLogadoService=r,this.icone="fa-cog",this.titulo="Gerenciar Conta",this.linkRetorno="/usuario",this.cadastro=!1}ngOnInit(){this.formUsuario=this.formBuilder.group({idUsuario:[""],nome:["",[r.m.required]],dataNascimento:["",[r.m.required]],sexo:["",[r.m.required]],endereco:this.formBuilder.group({idEndereco:[""],estado:["",[r.m.required]],cidade:["",[r.m.required]],bairro:["",[r.m.required]],logradouro:["",[r.m.required]],numero:["",[r.m.required]],complemento:[""],cep:["",[r.m.required]]}),email:["",[r.m.required,r.m.email]],senha:[""]}),this.route.params.subscribe(o=>{o.idUsuario?this.buscarUsuario(o.idUsuario):(this.icone="fa-user",this.titulo="Cadastro De Usuario",this.linkRetorno="/home",this.cadastro=!0)})}buscarUsuario(o){this.usuarioService.buscarPorId(o).subscribe(o=>{var i,t,a,r,e,n,s,c,l,u,b,d,m,f,h,p,v,g,N,O,y;null===(i=this.formUsuario.get("idUsuario"))||void 0===i||i.setValue(o.idUsuario),null===(t=this.formUsuario.get("nome"))||void 0===t||t.setValue(o.nome),null===(a=this.formUsuario.get("dataNascimento"))||void 0===a||a.setValue(o.dataNascimento),null===(r=this.formUsuario.get("sexo"))||void 0===r||r.setValue(o.sexo),null===(e=this.formUsuario.get("email"))||void 0===e||e.setValue(o.email),null===(s=null===(n=this.formUsuario.get("endereco"))||void 0===n?void 0:n.get("idEndereco"))||void 0===s||s.setValue(o.endereco.idEndereco),null===(l=null===(c=this.formUsuario.get("endereco"))||void 0===c?void 0:c.get("estado"))||void 0===l||l.setValue(o.endereco.estado),null===(b=null===(u=this.formUsuario.get("endereco"))||void 0===u?void 0:u.get("cidade"))||void 0===b||b.setValue(o.endereco.cidade),null===(m=null===(d=this.formUsuario.get("endereco"))||void 0===d?void 0:d.get("bairro"))||void 0===m||m.setValue(o.endereco.bairro),null===(h=null===(f=this.formUsuario.get("endereco"))||void 0===f?void 0:f.get("logradouro"))||void 0===h||h.setValue(o.endereco.logradouro),null===(v=null===(p=this.formUsuario.get("endereco"))||void 0===p?void 0:p.get("numero"))||void 0===v||v.setValue(o.endereco.numero),null===(N=null===(g=this.formUsuario.get("endereco"))||void 0===g?void 0:g.get("complemento"))||void 0===N||N.setValue(o.endereco.complemento),null===(y=null===(O=this.formUsuario.get("endereco"))||void 0===O?void 0:O.get("cep"))||void 0===y||y.setValue(o.endereco.cep)})}cadastrar(){let o=this.formUsuario.getRawValue();this.usuarioService.cadastrar(o).subscribe(o=>{alert("Usu\xe1rio Cadastrado Com Sucesso!"),this.formUsuario.reset(),this.router.navigate(["home"])},o=>{alert("Erro ao Cadastrar Usuario!"),console.log(o)})}atualizar(){let o=this.formUsuario.getRawValue();this.usuarioService.atualizar(o).subscribe(o=>{alert("Usu\xe1rio Atualizado Com Sucesso!"),this.formUsuario.reset(),this.router.navigate(["usuario"])},o=>{console.log(o),alert("Erro ao atualizar Usu\xe1rio!")})}excluir(){var o;let i=parseInt(null===(o=this.formUsuario.get("idUsuario"))||void 0===o?void 0:o.value);confirm("Deseja Realmente Excluir Usu\xe1rio!")&&(this.usuarioService.excluir(i).subscribe(o=>{alert("Usu\xe1rio Exclu\xeddo Com Sucesso!"),this.usuarioLogadoService.deslogarUsuario(),this.router.navigate(["/home"])},o=>{console.log(o),alert("Erro ao excluir Usu\xe1rio!")}),console.log("Aqui"))}}return o.\u0275fac=function(i){return new(i||o)(c.Jb(C.a),c.Jb(r.b),c.Jb(u.a),c.Jb(u.b),c.Jb(l.a))},o.\u0275cmp=c.Db({type:o,selectors:[["usuario-conta"]],decls:59,vars:8,consts:[[3,"icone","titulo"],[3,"link"],[1,"row","justify-content-center"],[1,"col-12","col-sm-7","col-md-5","col-lg-4","col-xl-3","mt-4"],[3,"formGroup"],["type","hidden","formControlName","idUsuario"],["for","nome"],["type","text","id","nome","formControlName","nome",1,"form-control"],[1,"row","mt-3"],[1,"col-6"],["for","nascimento"],["type","date","id","nascimento","formControlName","dataNascimento",1,"form-control"],["for","sexo"],["name","sexo","id","sexo","formControlName","sexo",1,"form-control"],["value","M"],["value","F"],["formGroupName","endereco"],["type","hidden","formControlName","idEndereco"],[1,"col-3"],["for","estado"],["type","text","id","estado","maxLength","2","formControlName","estado",1,"form-control"],[1,"col-9"],["for","cidade"],["type","text","id","cidade","formControlName","cidade",1,"form-control"],["for","bairro",1,"mt-3"],["type","text","id","bairro","formControlName","bairro",1,"form-control"],[1,"col-8"],["for","logradouro"],["type","text","id","logradouro","formControlName","logradouro",1,"form-control"],[1,"col-4"],["for","numero"],["type","text","id","numero","formControlName","numero",1,"form-control"],["for","complemento",1,"mt-3"],["type","text","id","complemento","formControlName","complemento",1,"form-control"],["for","cep",1,"mt-3"],["type","text","id","cep","formControlName","cep",1,"form-control"],["for","email",1,"mt-3"],["type","email","id","email","formControlName","email",1,"form-control"],[4,"ngIf"],[1,"mt-4"],["type","button","class","btn btn-primary me-2",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-danger",3,"disabled","click",4,"ngIf"],["for","senha",1,"mt-3"],["type","password","id","senha","formControlName","senha",1,"form-control"],["type","button",1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"fas","fa-user","me-1"],[1,"fas","fa-sync","me-1"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fas","fa-user-times","me-1"]],template:function(o,i){1&o&&(c.Kb(0,"titulo",0),c.Kb(1,"btn-voltar",1),c.Ob(2,"div",2),c.Ob(3,"div",3),c.Ob(4,"form",4),c.Kb(5,"input",5),c.Ob(6,"label",6),c.ic(7,"Nome:"),c.Nb(),c.Kb(8,"input",7),c.Ob(9,"div",8),c.Ob(10,"div",9),c.Ob(11,"label",10),c.ic(12,"Nascimento:"),c.Nb(),c.Kb(13,"input",11),c.Nb(),c.Ob(14,"div",9),c.Ob(15,"label",12),c.ic(16,"Sexo:"),c.Nb(),c.Ob(17,"select",13),c.Ob(18,"option",14),c.ic(19,"Masculino"),c.Nb(),c.Ob(20,"option",15),c.ic(21,"Feminino"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(22,"div",16),c.Kb(23,"input",17),c.Ob(24,"div",8),c.Ob(25,"div",18),c.Ob(26,"label",19),c.ic(27,"Estado:"),c.Nb(),c.Kb(28,"input",20),c.Nb(),c.Ob(29,"div",21),c.Ob(30,"label",22),c.ic(31,"Cidade:"),c.Nb(),c.Kb(32,"input",23),c.Nb(),c.Nb(),c.Ob(33,"label",24),c.ic(34,"Bairro:"),c.Nb(),c.Kb(35,"input",25),c.Ob(36,"div",8),c.Ob(37,"div",26),c.Ob(38,"label",27),c.ic(39,"Logradouro:"),c.Nb(),c.Kb(40,"input",28),c.Nb(),c.Ob(41,"div",29),c.Ob(42,"label",30),c.ic(43,"Numero:"),c.Nb(),c.Kb(44,"input",31),c.Nb(),c.Nb(),c.Ob(45,"label",32),c.ic(46,"Complemento:"),c.Nb(),c.Kb(47,"input",33),c.Ob(48,"label",34),c.ic(49,"CEP:"),c.Nb(),c.Kb(50,"input",35),c.Nb(),c.Ob(51,"label",36),c.ic(52,"Email:"),c.Nb(),c.Kb(53,"input",37),c.hc(54,V,4,0,"ng-container",38),c.Ob(55,"div",39),c.hc(56,x,3,1,"button",40),c.hc(57,S,3,1,"button",40),c.hc(58,k,3,1,"button",41),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&o&&(c.ac("icone",i.icone)("titulo",i.titulo),c.yb(1),c.ac("link",i.linkRetorno),c.yb(3),c.ac("formGroup",i.formUsuario),c.yb(50),c.ac("ngIf",i.cadastro),c.yb(2),c.ac("ngIf",i.cadastro),c.yb(1),c.ac("ngIf",!i.cadastro),c.yb(1),c.ac("ngIf",!i.cadastro))},directives:[f.a,h.a,r.o,r.h,r.d,r.a,r.g,r.c,r.l,r.j,r.n,r.e,a.j],styles:[""]}),o})();const w=function(o){return["conta",o]},P=[{path:"",component:(()=>{class o{constructor(o,i){this.usuarioLogadoService=o,this.router=i,this.usuario=null,this.idUsuario=0}ngOnInit(){this.usuarioLogadoService.recuperarUsuario().subscribe(o=>{this.usuario=o,this.idUsuario=null==o?void 0:o.idUsuario})}logout(){this.usuarioLogadoService.deslogarUsuario(),this.router.navigate(["/home"])}}return o.\u0275fac=function(i){return new(i||o)(c.Jb(l.a),c.Jb(u.b))},o.\u0275cmp=c.Db({type:o,selectors:[["usuario-home"]],decls:39,vars:4,consts:[[1,"row","justify-content-center"],[1,"col-12"],[1,"mx-auto","text-center"],["src","assets/imgs/ze.jpg",1,"img-responsive"],[1,"row","mt-3"],[1,"col-12","col-md-6"],[1,"text-center","text-md-end"],[1,"text-center","text-md-start","text-decoration-underline"],[1,"fas","fa-user","me-1"],[1,"col-12","col-md-4"],[1,"d-grid","gap-2"],["routerLink","/campanhas",1,"btn","btn-primary","fw-bolder","fs-5"],[1,"fas","fa-bullhorn","me-1"],[1,"col-12","col-md-4","mt-3","mt-md-0"],["routerLink","registro-vacina",1,"btn","btn-primary","fw-bolder","fs-5"],[1,"fas","fa-pencil-alt","me-1"],["routerLink","historico",1,"btn","btn-primary","fw-bolder","fs-5"],[1,"far","fa-list-alt","me-1"],[1,"col-12","col-md-4","mt-3"],[1,"btn","btn-primary","fw-bolder","fs-5",3,"routerLink"],[1,"fas","fa-cog","me-1"],["link","#",1,"btn","btn-primary","fw-bolder","fs-5",3,"click"],[1,"fas","fa-sign-out-alt","me-1"]],template:function(o,i){1&o&&(c.Ob(0,"div",0),c.Ob(1,"div",1),c.Ob(2,"div",2),c.Kb(3,"img",3),c.Nb(),c.Nb(),c.Ob(4,"div",1),c.Ob(5,"div",4),c.Ob(6,"div",5),c.Ob(7,"h5",6),c.ic(8,"Bem-Vindo:"),c.Nb(),c.Nb(),c.Ob(9,"div",5),c.Ob(10,"h5",7),c.Kb(11,"i",8),c.ic(12),c.Nb(),c.Nb(),c.Nb(),c.Ob(13,"div",4),c.Ob(14,"div",9),c.Ob(15,"div",10),c.Ob(16,"a",11),c.Kb(17,"i",12),c.ic(18,"Campanhas "),c.Nb(),c.Nb(),c.Nb(),c.Ob(19,"div",13),c.Ob(20,"div",10),c.Ob(21,"a",14),c.Kb(22,"i",15),c.ic(23,"Registrar Vacina\xe7\xe3o "),c.Nb(),c.Nb(),c.Nb(),c.Ob(24,"div",13),c.Ob(25,"div",10),c.Ob(26,"a",16),c.Kb(27,"i",17),c.ic(28,"Hist\xf3rico Vacina\xe7\xe3o "),c.Nb(),c.Nb(),c.Nb(),c.Ob(29,"div",18),c.Ob(30,"div",10),c.Ob(31,"a",19),c.Kb(32,"i",20),c.ic(33,"Gerenciar Conta "),c.Nb(),c.Nb(),c.Nb(),c.Ob(34,"div",18),c.Ob(35,"div",10),c.Ob(36,"a",21),c.Vb("click",function(){return i.logout()}),c.Kb(37,"i",22),c.ic(38,"Sair "),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&o&&(c.yb(12),c.jc(null==i.usuario?null:i.usuario.nome),c.yb(19),c.ac("routerLink",c.bc(2,w,i.idUsuario)))},directives:[u.c],styles:[""]}),o})(),canActivate:[b]},{path:"registro-vacina",component:U,canActivate:[b]},{path:"historico",component:v,canActivate:[b]},{path:"conta/:idUsuario",component:K,canActivate:[b]},{path:"cadastro-usuario",component:K}];let E=(()=>{class o{}return o.\u0275mod=c.Hb({type:o}),o.\u0275inj=c.Gb({factory:function(i){return new(i||o)},imports:[[u.d.forChild(P)],u.d]}),o})(),H=(()=>{class o{}return o.\u0275mod=c.Hb({type:o}),o.\u0275inj=c.Gb({factory:function(i){return new(i||o)},providers:[b],imports:[[a.b,E,n.a,s.a,e.a,r.f,r.k]]}),o})()}}]);